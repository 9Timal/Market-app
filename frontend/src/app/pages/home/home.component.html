<!-- home.component.html -->
<div class="home-container">
  <!-- üë§ Infos utilisateur -->
  <p>Pour vous, {{ user.name }} {{ user.lastname }}</p>

  <!-- ‚úÖ Si magasin d√©j√† s√©lectionn√© -->
  <ng-container *ngIf="selectedStore; else searchBlock">
    <div class="store-selected-container">
      <p>Magasin actuel : <strong>{{ selectedStore.name }} - {{ selectedStore.city }} ({{ selectedStore.zip_code }})</strong></p>
      <button (click)="resetStore()">!U</button>
    </div>
  </ng-container>

  <!-- üîç Recherche magasin si non s√©lectionn√© -->
  <ng-template #searchBlock>
    <p>üîç Cherchez votre magasin :</p>

    <div class="search-home-container">
      <input type="text" placeholder="Nom du magasin" [formControl]="nameControl" />
      <input type="text" placeholder="Ville" [formControl]="cityControl" />
      <input type="text" placeholder="Code postal" [formControl]="zipCodeControl" />
    </div>

    <div *ngIf="searchResults.length > 0" class="results">
      <p>R√©sultats :</p>
      <div *ngFor="let store of searchResults" class="store-item" (click)="selectStore(store)">
        {{ store.name }} - {{ store.city }} ({{ store.zip_code }})
      </div>
    </div>

    <div *ngIf="searchResults.length === 0 && userTyped">
      Aucun magasin trouv√© pour cette recherche.
    </div>
  </ng-template>
</div>
